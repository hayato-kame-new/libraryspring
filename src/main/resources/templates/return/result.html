<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link th:href="@{/css/style.css}" rel="stylesheet"/>
<title th:text="|#{return_result_page.title} - library|"></title>
<style>
 .flashMsg {
 	color: skyblue;
 }
</style>
<!-- フラグメントを組み込む th:include の値は 読み込むファイルの.htmlを抜いたパス :: th:fragmentに指定した値 
パスは templatesからのパス -->
<style th:include="common/header :: common_header_style"></style>
</head>
<body>
<!-- フラグメントの組み込み th:include の値は 読み込むファイルの.htmlを抜いたパス :: th:fragmentに指定した値 
パスは templatesからのパス-->
<div th:include="common/header :: common_header"></div>

<h2 class="heading" >返却完了ページ</h2>

<p class="flashMsg" th:if="${flashMsg}" th:text="${flashMsg}"></p>
<h4>会員情報</h4>
会員番号だけ 個人情報は見えないように
返却予定日
<h4>貸し出しした本</h4>
本の情報
CSVファイルへ出力する 個人情報見えないようにする

<!-- 検索結果表示  その書籍が現在どういう状態かまで、わかるようにする つまり、貸出中なのかどうか-->
		<p th:if="${resultMsg}" th:text="${resultMsg}"></p>
		 <th:block th:if="${statusMap != null && statusMap.size() > 0}">
			 <table>
				<tr><th>ISBN</th><th>タイトル</th><th>著者名</th><th>書架状態</th><th></th><th></th><th></th></tr>
				
				<tr th:each="element : ${statusMap}" >	
					
					<td align="center" >
					
						<a href="/book_show" th:href="@{/book_show/{isbn}(isbn=${element.key.isbn})}" th:text="${element.key.isbn}"></a>
						<!-- フォームでHTTPメソッドGETで送ってもいい -->
					<!-- 	<form method = "get" action="/book_show" th:action = "@{/book_show/{isbn}(isbn=${obj.isbn})}" >
						 	<input type="hidden" name="isbn" th:value="${obj.isbn}" >
						 	<input type="submit" value="詳細" >
						 </form> -->
					</td>
					<td align="left" th:text="${element.key.title}"></td>
					<td align="left" th:text="${element.key.authors}"></td>
					
					<!-- 書架状態 表示後で変更 -->
					<td align="center" th:text="${element.value}"></td>
					<!-- <td align="center" th:text="${obj.orderDate}"></td> -->
					<!-- <td align="center" >
						<a  th:href="@{/order/{isbn}(isbn=${obj.isbn})}">●</a>
					</td>
					<td align="center">
						<a href="/delivery" th:href="@{/delivery/{isbn}(isbn=${obj.isbn})}">●</a>
					</td>-->
					<td align="center" th:text="${element.key.authors}"></td>
					<td>
						<!-- フォームでHTTPメソッドGETで送ってもいい -->
						<form method = "get" action="/book_show" th:action = "@{/book_show/{isbn}(isbn=${element.key.isbn})}" >
						 	<input type="hidden" name="isbn" th:value="${element.key.isbn}" >
						 	<input type="submit" value="詳細" >
						 </form>
					</td>
					
					<!-- <td>
						 <form method = "get" action = "/emp_add_edit" >
						 	<input type="hidden" name="employeeId" th:value="${obj[0]}" >
						 	<input type="hidden" name="action" th:value="edit" >
						 	<input type="submit" value="編集" >
						 </form>		
					</td>
					<td>
						<form method = "post" action = "/emp_delete" >
							<input type="hidden" name="employeeId" th:value="${obj[0]}" >
							<input type="submit" value="削除" >
						</form>		
					</td> -->
				</tr> 
			</table>
		</th:block>


<div>
	<a href="/find" th:href="@{/}"><button type="button" th:text="トップページへ戻る" ></button></a>
</div>

</body>
</html>